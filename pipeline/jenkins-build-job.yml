- job:
    name: checkbox.io
    project-type: pipeline
    dsl: |
      node {
          stage('Source') {
              git 'https://github.com/chrisparnin/checkbox.io.git'
          }
          stage('Build') {
              sh 'cd ./server-side/site; npm install; npm install pm2;'
          }
          stage('Test') {
              sh 'cd ./server-side/site; npx pm2 start server.js; npm test;'
          }
      }